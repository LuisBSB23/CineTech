# ===============================================
# CONFIGURAÇÃO DO BANCO DE DADOS - MySQL
# ===============================================

spring.datasource.url=jdbc:mysql://localhost:3306/cinetechdb?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
# ATENÇÃO: Mantenha a senha que você já configurou
spring.datasource.password=SUA-SENHA

# ===============================================
# CONFIGURAÇÃO DE INICIALIZAÇÃO DE DADOS (A CORREÇÃO)
# ===============================================

# 1. Força o Spring a rodar o data.sql mesmo no MySQL
spring.sql.init.mode=always

# 2. Garante que o Hibernate crie as tabelas ANTES do script rodar
spring.jpa.defer-datasource-initialization=true

# ===============================================
# ESTRATÉGIA DE TABELAS (RECOMENDADO PARA DEV)
# ===============================================

spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# MUDE DE 'update' PARA 'create-drop' NESTA FASE DE TESTES
# Isso apaga o banco e recria tudo do zero a cada reinício.
# É essencial para garantir que os IDs (1, 2, 3) do data.sql batam com o banco.
spring.jpa.hibernate.ddl-auto=create-drop

spring.jpa.show-sql=true